<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.web>
    <!-- Compilation settings for .NET Framework 4.7.2 -->
    <compilation debug="true" targetFramework="4.7.2">
      <assemblies>
        <add assembly="System.Core, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>
        <add assembly="System.Xml.Linq, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>
      </assemblies>
    </compilation>
    
    <!-- HTTP Runtime settings -->
    <httpRuntime targetFramework="4.7.2" maxRequestLength="51200" executionTimeout="300"/>
    
    <!-- Web Services settings -->
    <webServices>
      <protocols>
        <add name="HttpGet"/>
        <add name="HttpPost"/>
        <add name="HttpSoap"/>
        <add name="HttpSoap12"/>
      </protocols>
    </webServices>
    
    <!-- Custom errors (optional - set to Off for debugging) -->
    <customErrors mode="RemoteOnly"/>
    
    <!-- Authentication (adjust as needed) -->
    <authentication mode="Windows"/>
    
    <!-- Authorization (adjust as needed) -->
    <authorization>
      <allow users="*"/>
    </authorization>
  </system.web>
  
  <system.webServer>
    <!-- IIS settings -->
    <defaultDocument>
      <files>
        <clear/>
        <add value="DataConnector.asmx"/>
      </files>
    </defaultDocument>
    
    <!-- CORS settings (adjust as needed) -->
    <httpProtocol>
      <customHeaders>
        <add name="Access-Control-Allow-Origin" value="*"/>
        <add name="Access-Control-Allow-Methods" value="GET, POST"/>
        <add name="Access-Control-Allow-Headers" value="Content-Type, SOAPAction"/>
      </customHeaders>
    </httpProtocol>
    
    <!-- Handler mappings for ASMX -->
    <handlers>
      <remove name="WebServiceHandlerFactory-Integrated"/>
      <add name="WebServiceHandlerFactory-Integrated" 
           path="*.asmx" 
           verb="*" 
           type="System.Web.Services.Protocols.WebServiceHandlerFactory, System.Web.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" 
           resourceType="Unspecified" 
           requireAccess="Script" 
           preCondition="integratedMode"/>
    </handlers>
  </system.webServer>
  
  <appSettings>
    <!-- Configuration settings -->
    <add key="ConnectorMode" value="Hardcoded"/> <!-- Options: Hardcoded, External -->
    <add key="ExternalApiBaseUrl" value="https://api.example.com/"/>
    <add key="EnableLogging" value="true"/>
    <add key="LogPath" value="~/App_Data/Logs/"/>
  </appSettings>
</configuration>
